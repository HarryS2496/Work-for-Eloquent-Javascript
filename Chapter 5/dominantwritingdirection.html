<!DOCTYPE html>
<html>
  <head>
    <title>Dominant Writing Direction</title>
  </head>

  <body>
    <p>Dominant Writing Direction</p>
    <script>
      function dominantDirection(text) {
        let scripts = countBy(text, (char) => {
          let counted = characterScript(char.codePointAt(0));
          return script ? script.direction : "none";
        }).filter(({ name }) => name != "none");

        if (counted === 0) {
          return "ltr";
        }

        return counted.reduce((a, b) => a.count > b.count ? a : b).name;
      }

      console.log(dominantDirection("Hello!"));
      console.log(dominantDirection("Hey, مساء الخير"));
    </script>
  </body>
</html>
